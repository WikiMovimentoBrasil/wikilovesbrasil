const colorTriples=[["#006400","#004B23","#FFFFFF"],["#D90202","#7C0606","#FFFFFF"],["#FFA200","#FF5900","#000000"],["#005A8A","#03045E","#FFFFFF"],["#6818A5","#3A015C","#FFFFFF"],["#FFFFFF","#000000","#000000"]],regions=["N","NE","CO","SE","S"];let map=L.map("map",{zoomControl:!1}).setMaxBounds([[6.3,-75.1],[-34.8,-27.8]]).setView([-19.5,-54.4],3),osm_map=L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:8,minZoom:3,attribution:credits_osm});const wm_map=L.tileLayer("https://maps.wikimedia.org/osm-intl/{z}/{x}/{y}.png",{maxZoom:8,minZoom:3,attribution:credits_wikimedia}).addTo(map);let search_button=L.Control.extend({options:{position:"topright"},onAdd:function(o){let e=L.DomUtil.create("div","leaflet-bar leaflet-control search-container"),t=L.DomUtil.create("input","form-control search-input",e),r=L.DomUtil.create("div","list-group",e);return t.type="search",t.placeholder=instruction,t.ariaLabel=searchString,L.DomEvent.disableClickPropagation(e),L.DomEvent.addListener(t,"keyup",function(o){switch(o.keyCode){case 27:case 45:case 46:case 37:case 39:case 16:case 17:case 35:case 36:break;default:if(this.value.length>=3){r.innerHTML="";let e=this.value.toLowerCase();statesData.features.forEach(function(o,t){if(o.properties&&(o.properties.name.toLowerCase().includes(e)||o.properties.qid.toLowerCase().includes(e))){var i=L.DomUtil.create("a","list-group-item");return i.href="",i.setAttribute("data-result-name",o.properties.name.toLowerCase()),i.setAttribute("data-result-qid",o.properties.qid.toLowerCase()),i.innerHTML=o.properties.name+" ("+o.properties.qid+")",i.onclick=function(e){e.preventDefault(),r.innerHTML="",window.open("/mapa/"+o.properties.uf.toLowerCase(),"_self")},r.appendChild(i),i}})}else r.innerHTML=""}}),e}});map.addControl(new search_button),L.control.zoom({position:"bottomright"}).addTo(map);let locate=L.control.locate({flyTo:!0,position:"bottomright",returnToPrevBounds:!0,icon:"locate fa-solid fa-location-dot",iconElementTag:"i",strings:{title:whereAmIMsg}}).addTo(map);function getFillColor(o){return o===regions[0]?colorTriples[0][0]:o===regions[1]?colorTriples[1][0]:o===regions[2]?colorTriples[2][0]:o===regions[3]?colorTriples[3][0]:o===regions[4]?colorTriples[4][0]:colorTriples[5][0]}function getBorderColor(o){return o===regions[0]?colorTriples[0][1]:o===regions[1]?colorTriples[1][1]:o===regions[2]?colorTriples[2][1]:o===regions[3]?colorTriples[3][1]:o===regions[4]?colorTriples[4][1]:colorTriples[5][1]}function getFontColor(o){return o===regions[0]?colorTriples[0][2]:o===regions[1]?colorTriples[1][2]:o===regions[2]?colorTriples[2][2]:o===regions[3]?colorTriples[3][2]:o===regions[4]?colorTriples[4][2]:colorTriples[5][2]}function style(o){return{fillColor:getFillColor(o.properties.region),weight:1,opacity:1,color:getBorderColor(o.properties.region),fillOpacity:.7}}function highlightFeature(o){var e=o.target;e.setStyle({weight:5,color:"#000000",dashArray:"",fillOpacity:.7}),L.Browser.ie||L.Browser.opera||L.Browser.edge||e.bringToFront()}function resetHighlight(o){states.resetStyle(o.target)}function zoomToFeature(o){map.fitBounds(o.target.getBounds())}function openFeature(o){window.open("/mapa/"+o.target.feature.properties.uf.toLowerCase(),"_self")}function selectFunction(o){zoomToFeature(o),openFeature(o)}function onEachFeature(o,e){e.on({mouseover:highlightFeature,mouseout:resetHighlight,click:selectFunction})}L.control.layers({OpenStreetMap:osm_map,Wikimedia:wm_map},null,{position:"bottomright"}).addTo(map),L.easyButton({states:[{icon:"<i class='fa-solid fa-bars'></i> ",stateName:"menu",onClick:function(){$("#presentationModal").modal("show")}}]}).addTo(map),L.easyButton("<i class='fa-solid fa-language'></i>",function(){$("#langModal").modal("show")},langTooltip).addTo(map),L.easyButton('<i class="fa-solid fa-info"></i>',function(){$("#aboutModal").modal("show")},infoTooltip).addTo(map);let states=L.geoJson(statesData,{style:style,onEachFeature:onEachFeature}).addTo(map);